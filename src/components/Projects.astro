---
import '../styles/components/projects.css';

interface Project {
  title: string;
  description: string;
  tags: string[];
  links: {
    demo?: string;
    source?: string;
  };
  codePreview: {
    language: string;
    code: string;
  };
}

interface Props {
  projects: Project[];
}

const { projects } = Astro.props;
---

<section id="projects" class="projects">
  <div class="container">
    <h2 class="animate-fade-in">Featured Projects</h2>
    <div class="project-grid">
      {projects.map((project) => (
        <article class="project-card hover-lift hover-glow animate-fade-in">
          <div class="project-content">
            <h3>{project.title}</h3>
            <p>{project.description}</p>
            <div class="project-tags">
              {project.tags.map((tag) => (
                <span>{tag}</span>
              ))}
            </div>
            <div class="project-links">
              {project.links.demo && (
                <a href={project.links.demo} class="btn small">View Project</a>
              )}
              {project.links.source && (
                <a href={project.links.source} class="btn small secondary">Source Code</a>
              )}
            </div>
            <div class="project-preview">
              <pre><code>{project.codePreview.code}</code></pre>
            </div>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>

<style>
  .projects {
    padding: 6rem 0;
    background: var(--bg-color);
  }

  .project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }

  .project-card {
    background: var(--card-bg);
    border-radius: 1rem;
    overflow: hidden;
  }

  .project-content {
    padding: 2rem;
  }

  .project-content h3 {
    margin-bottom: 1rem;
    color: var(--primary-color);
  }

  .project-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin: 1rem 0;
  }

  .project-tags span {
    font-size: 0.8rem;
    padding: 0.25rem 0.75rem;
    background: var(--tag-bg);
    border-radius: 1rem;
    color: var(--text-secondary);
  }

  .project-links {
    display: flex;
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .project-preview {
    margin-top: 1.5rem;
    background: var(--code-bg);
    border-radius: 0.5rem;
    overflow: hidden;
  }

  .project-preview pre {
    margin: 0;
    padding: 1rem;
    overflow-x: auto;
  }

  @media (max-width: 768px) {
    .project-grid {
      grid-template-columns: 1fr;
    }
  }
</style> 